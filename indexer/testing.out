bash -v testing.sh
module () {  _module_raw "$@" 2>&1
}
ml () {  module ml "$@"
}
_module_raw () {  eval `/usr/bin/tclsh8.6 /usr/lib/x86_64-linux-gnu/modulecmd.tcl bash "$@"`;
 _mlstatus=$?;
 return $_mlstatus
}
# testing.h     Andy Xu      May 4 2023
#
# Description: tester for indexer

# no arguments
./indexer
Error: wrong number of arguments. Must only have two arguments: pageDirectory and indexFilename.
# one argument
./indexer 1
Error: wrong number of arguments. Must only have two arguments: pageDirectory and indexFilename.
# three arguments
./indexer 1 2 3
Error: wrong number of arguments. Must only have two arguments: pageDirectory and indexFilename.
# more than three arguments
./indexer 1 2 3 4
Error: wrong number of arguments. Must only have two arguments: pageDirectory and indexFilename.
# invalid pageDirectory (non-existent path)
./indexer ../nonexistentPath ../index_files/1
Error: pageDirectory is invalid, either does not exist or is not crawler produced.
# invalid pageDirectory (not a crawler directory)
./indexer ../indexer ../index_files/1
Error: pageDirectory is invalid, either does not exist or is not crawler produced.
# invalid indexFile (non-existent path)
./indexer ~/cs50-dev/shared/tse/output/letters-1 ../nonexistentPath/1
Error: indexFilename is invalid.
# invalid indexFile (read-only directory)
mkdir ../readOnlyDir
mkdir: cannot create directory '../readOnlyDir': File exists
chmod 444 ../readOnlyDir
./indexer ~/cs50-dev/shared/tse/output/letters-1 ../readOnlyDir/1
Error: indexFilename is invalid.
# invalid indexFile (existing, read-only file)
touch readOnlyIndexFile
chmod 444 readOnlyIndexFile
./indexer ~/cs50-dev/shared/tse/output/letters-1 readOnlyIndexFile
Error: indexFilename is invalid.
# first valid indexer example (toscrape-1)
mkdir ../index_files
mkdir: cannot create directory '../index_files': File exists
./indexer ~/cs50-dev/shared/tse/output/toscrape-1 ../index_files/index_to_scrape1
# running indextest
./indextest ../index_files/index_to_scrape1 ../index_files/index_to_scrape1_tested
# comparing original file with file generated by indextest
~/cs50-dev/shared/tse/indexcmp ../index_files/index_to_scrape1 ../index_files/index_to_scrape1_tested
# comparing generated index file with index file provided in shared
~/cs50-dev/shared/tse/indexcmp ../index_files/index_to_scrape1 ~/cs50-dev/shared/tse/indices/toscrape-1.ndx

# second valid indexer example (wikipedia-2)
./indexer ~/cs50-dev/shared/tse/output/wikipedia_2 ../index_files/index_wikipedia2
# running indextest
./indextest ../index_files/index_wikipedia2 ../index_files/index_wikipedia2_tested
# comparing original file with file generated by indextest
~/cs50-dev/shared/tse/indexcmp ../index_files/index_wikipedia2 ../index_files/index_wikipedia2_tested
# comparing generated index file with index file provided in shared
~/cs50-dev/shared/tse/indexcmp ../index_files/index_wikipedia2 ~/cs50-dev/shared/tse/indices/wikipedia_2.ndx
